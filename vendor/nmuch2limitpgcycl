#!/bin/sh

# limit patterns have to be 1023 characters wide max

print_usage() {
	printf '\n%s\n' "$(basename $0) FILE"
}

if [ ! ${#} -eq 1 ]
then
	print_usage
	exit 1
fi

search_results="${1}"

page=$(mktemp)
rest=$(mktemp)

nmuch2limitpgsplt "${search_results}" 2> "${rest}" | tee "${page}"

cat "${rest}" > "${search_results}"
cat "${page}" >> "${search_results}"

rm -f "${page}" "${rest}"
